<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Areninha - Adivinhe o NÃºmero</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .jogo-container {
            max-width: 600px;
            margin: 0 auto;
        }
        .numero-display {
            font-size: 3rem;
            font-weight: bold;
            color: #0d6efd;
            margin: 20px 0;
        }
        .tentativas {
            font-size: 1.2rem;
            color: #6c757d;
        }
        .dica-btn {
            background: linear-gradient(45deg, #ffc107, #fd7e14);
            border: none;
            color: white;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-dark bg-primary">
        <div class="container">
            <a href="/home" class="btn btn-outline-light">â† Voltar</a>
            <span class="navbar-brand">ğŸ¯ Adivinhe o NÃºmero</span>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="jogo-container">
            <h1 class="text-center mb-4">ğŸ¯ Adivinhe o NÃºmero</h1>
            
            <div class="card shadow">
                <div class="card-body text-center">
                    <!-- Mensagem do jogo -->
                    <div th:if="${mensagem}" class="alert alert-info">
                        <span th:text="${mensagem}"></span>
                    </div>

                    <!-- Contador de tentativas -->
                    <div class="tentativas mb-3">
                        <strong>Tentativas:</strong> <span th:text="${tentativas}">0</span>
                    </div>

                    <!-- Ãšltimo palpite -->
                    <div th:if="${ultimoPalpite != null}" class="mb-3">
                        <strong>Ãšltimo palpite:</strong> 
                        <span class="numero-display" th:text="${ultimoPalpite}"></span>
                    </div>

                    <!-- FormulÃ¡rio de palpite -->
                    <form th:if="${jogoAtivo}" th:action="@{/adivinhacao/tentar}" method="post" class="mb-4">
                        <input type="hidden" name="numeroSecreto" th:value="${numeroSecreto}">
                        <input type="hidden" name="tentativas" th:value="${tentativas}">
                        
                        <div class="row g-2">
                            <div class="col-md-8">
                                <input type="number" name="palpite" class="form-control form-control-lg" 
                                       min="1" max="100" placeholder="Digite um nÃºmero entre 1 e 100" required>
                            </div>
                            <div class="col-md-4">
                                <button type="submit" class="btn btn-primary btn-lg w-100">ğŸ¯ Tentar</button>
                            </div>
                        </div>
                    </form>

                    <!-- FormulÃ¡rio para dica -->
                    <form th:if="${jogoAtivo}" th:action="@{/adivinhacao/dica}" method="post" class="mb-3">
                        <input type="hidden" name="numeroSecreto" th:value="${numeroSecreto}">
                        <input type="hidden" name="tentativas" th:value="${tentativas}">
                        <button type="submit" class="btn dica-btn w-100">
                            ğŸ’¡ Pedir Dica
                        </button>
                    </form>

                    <!-- BotÃµes de aÃ§Ã£o -->
                    <div class="row g-2">
                        <div class="col-md-6">
                            <a th:href="@{/adivinhacao/novo}" class="btn btn-success w-100">
                                ğŸ”„ Novo Jogo
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a href="/home" class="btn btn-secondary w-100">
                                ğŸ  Menu Principal
                            </a>
                        </div>
                    </div>

                    <!-- InstruÃ§Ãµes -->
                    <div class="mt-4 p-3 bg-light rounded">
                        <h6>ğŸ“‹ Como jogar:</h6>
                        <ul class="list-unstyled small mb-0">
                            <li>ğŸ¯ Adivinhe o nÃºmero entre 1 e 100</li>
                            <li>ğŸ“ˆğŸ“‰ Receba dicas se seu palpite Ã© alto ou baixo</li>
                            <li>ğŸ’¡ Use dicas para descobrir se Ã© par ou Ã­mpar</li>
                            <li>ğŸ† PontuaÃ§Ã£o: 100 - (tentativas Ã— 5) pontos</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Ranking rÃ¡pido -->
            <div class="card mt-4">
                <div class="card-body text-center">
                    <h6>ğŸ† Sistema de PontuaÃ§Ã£o</h6>
                    <div class="row text-center">
                        <div class="col-4">
                            <small class="text-muted">1-5 tentativas</small><br>
                            <strong>75-100 pontos</strong>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">6-15 tentativas</small><br>
                            <strong>25-70 pontos</strong>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">16+ tentativas</small><br>
                            <strong>10 pontos</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>